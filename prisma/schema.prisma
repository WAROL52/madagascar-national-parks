generator client {
  provider = "prisma-client-js"
}

generator nestjsDto {
  provider                        = "prisma-generator-nestjs-dto"
  output                          = "./dto"
  outputToNestJsResourceStructure = "true"
  exportRelationModifierClasses   = "true"
  fileNamingStyle                 = "kebab"
}

datasource db {
  provider     = "mysql"
  url          = "mysql://xigh60z4mo532i37sac8:pscale_pw_pANR8dbWvNWmiAzcF8L75NEi4VVMEGGaP4WGYHRR9FQ@us-east.connect.psdb.cloud/mnp-database?sslaccept=strict"
  relationMode = "prisma"
}

model Email {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  email    String   @unique
  role     Role     @default(Admin)
  siteName SiteName @default(aucun)
  User     User?
}

model User {
  id            Int       @id @default(autoincrement())
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  emailId       Int       @unique
  nom           String
  prenom        String
  motdepasse    String?
  tel1          String?
  tel2          String?
  adresse       String?
  dataNaissance DateTime?
  lieuNaissance String?
  sexe          Sexe      @default(Homme)
  description   String?
  avatar        String?
  email         Email     @relation(fields: [emailId], references: [id])
}

model Site {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SuiviDeProjet {
  id                Int        @id @default(autoincrement())
  createdAt         DateTime   @default(now())
  updatedAt         DateTime   @updatedAt
  projetName        ProjetName
  siteName          SiteName   @default(aucun)
  tacheName         String
  debutPrevisionnel DateTime
  finPrevisionnel   DateTime
  debutReel         DateTime?
  finReel           DateTime?
}

enum Role {
  ResponsableSite
  Admin
  SuperAdmin
}

enum SiteName {
  aucun
  tous
  ABT
  ABV
  AHL
  AJS
  AKF
  ALZ
  AND
  ANK
  ANL
  ARG
  BBL
  BMR
  BTP
  BZM
  CSM
  ISL
  IVB
  KLB
  MDA
  MDS
  MGV
  MKA
  MNB
  MNG
  MNN
  MRJ
  MRL
  MRT
  MSL
  MTD
  NMGB
  NMK
  NSH
  NST
  NSV
  RAN
  SML
  TSP
  TST
  ZHM
  ZVB
}

enum Sexe {
  Homme
  Femme
}

enum ProjetName {
  formation
  excecution
}
